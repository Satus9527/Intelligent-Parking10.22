# 后端服务启动指南

## 问题诊断结果

根据诊断工具的结果：
- ✅ **数据库连接正常** - MySQL 服务运行正常，数据库连接成功
- ❌ **后端服务未响应** - 后端服务可能未启动

## 超时问题的根本原因

**数据库连接正常，但后端服务未运行**，导致前端请求超时。

## 启动后端服务

### 方法 1: 使用 Maven 启动（推荐）

```bash
# 进入项目根目录
cd F:\AAA软件工程\code\Intelligent-Parking10.22

# 启动后端服务
mvn spring-boot:run
```

### 方法 2: 使用启动脚本

如果项目中有启动脚本，直接运行：
```bash
start.bat
# 或
quick-start.bat
```

### 方法 3: 使用 IDE 启动

1. 打开 IntelliJ IDEA 或 Eclipse
2. 找到 `ParkingApplication.java` 主类
3. 右键点击 → Run 'ParkingApplication'

### 方法 4: 打包后启动

```bash
# 打包
mvn clean package

# 运行 jar 包
java -jar target/parking-application.jar
```

## 验证服务是否启动

启动后，在浏览器或命令行中访问：

```
http://172.20.10.5:8081/api/v1/parking/simple-test
```

如果返回 JSON 数据，说明服务启动成功。

## 常见问题

### 问题 1: 端口被占用

如果 8081 端口被占用，可以：
1. 修改 `application-dev.yml` 中的端口配置
2. 或关闭占用端口的程序

### 问题 2: 数据库连接失败

虽然诊断显示数据库连接正常，但如果启动时仍报错：
1. 检查 `application-dev.yml` 中的数据库配置
2. 确认数据库用户名密码正确
3. 确认数据库 `parking_db` 存在

### 问题 3: 启动后立即退出

查看控制台日志，通常会有错误信息：
- 数据库连接失败
- 端口被占用
- 配置文件错误

## 启动成功后的验证

1. **测试简单 API**:
   ```
   http://172.20.10.5:8081/api/v1/parking/simple-test
   ```

2. **测试附近停车场 API**:
   ```
   http://172.20.10.5:8081/api/v1/parking/nearby?longitude=113.3248&latitude=23.1288&radius=10000
   ```

3. **查看后端日志**:
   启动后，控制台会显示：
   - 数据库连接信息
   - 服务启动端口
   - 任何错误信息

## 下一步

1. 启动后端服务
2. 运行 `简单检查后端.bat` 验证服务是否正常
3. 重新测试小程序，超时问题应该解决

