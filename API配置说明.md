# 智能停车场小程序API配置说明

## 问题说明
微信开发者工具中显示API配置错误，主要是因为高德地图API密钥未正确配置或使用了示例密钥。

## 已完成的配置

我已经为您进行了以下配置：

1. 更新了 `.env` 文件中的高德地图API密钥
2. 修改了 `utils/amap.js` 文件，使其能够从全局配置获取API密钥
3. 在 `app.js` 中设置了全局的高德地图API密钥

## 手动配置真实API密钥（推荐）

目前配置的是演示密钥，在实际使用中可能会有访问限制。为了确保小程序功能正常，请按照以下步骤配置真实的高德地图API密钥：

### 步骤1：获取高德地图API密钥

1. 访问 [高德开放平台](https://lbs.amap.com/)
2. 注册/登录开发者账号
3. 进入控制台 -> 应用管理 -> 我的应用
4. 创建新应用，然后添加"Web服务"类型的Key
5. 复制生成的API密钥

### 步骤2：更新配置（以下两种方式任选其一）

#### 方式A：更新app.js中的全局配置（推荐）

1. 打开 `app.js` 文件
2. 找到 `globalData` 中的 `amapApiKey` 配置
3. 将 `'demo_amap_api_key_for_development'` 替换为您的真实API密钥

```javascript
// 修改前
amapApiKey: 'demo_amap_api_key_for_development'

// 修改后
amapApiKey: '您的真实API密钥'
```

#### 方式B：更新.env文件

1. 打开 `.env` 文件
2. 找到 `AMAP_API_KEY` 配置项
3. 将值替换为您的真实API密钥

### 步骤3：重启小程序

修改完成后，请重启微信开发者工具，确保新的配置生效。

## 注意事项

1. API密钥属于敏感信息，请妥善保管，不要提交到代码仓库
2. 确保您的API密钥已启用了"Web服务"权限
3. 高德地图API有调用次数限制，开发环境可以使用较低级别的密钥
4. 生产环境请使用正式的API密钥，并考虑设置合理的使用额度

## 常见问题排查

- 如果配置后仍然报错，请检查API密钥是否正确，是否启用了相应服务
- 如果出现"请求过于频繁"错误，请检查是否需要申请更高的调用配额
- 如遇到其他API相关问题，请参考[高德地图开发文档](https://lbs.amap.com/api/webservice/guide/api/)

如有其他配置需求，请随时联系开发团队。